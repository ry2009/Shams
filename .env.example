# LLM/embedding provider settings.
# Default below uses local Ollama (no paid API key required).
OPENAI_API_KEY=
OPENAI_BASE_URL=http://localhost:11434/v1
# For OpenAI cloud instead:
# OPENAI_API_KEY=sk-your-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1

# Optional: Azure OpenAI settings
# AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
# AZURE_OPENAI_KEY=your-azure-key
# AZURE_OPENAI_VERSION=2024-02-15-preview

# Application Settings
LOG_LEVEL=INFO
VECTOR_INDEX_PATH=./data/vector_index.jsonl
UPLOAD_DIR=./uploads
DOCUMENT_REGISTRY_PATH=./data/document_registry.json
OPS_STATE_PATH=./data/ops_state.json
# Optional explicit sqlite path. If empty, OPS_STATE_PATH with .db suffix is used.
OPS_DB_PATH=
MCLEOD_EXPORT_DIR=./data/mcleod_exports
MAX_UPLOAD_SIZE=52428800
AUTH_ENABLED=false
DEFAULT_TENANT_ID=demo
# Format: token1:tenant_a,token2:tenant_b
TENANT_TOKENS=
# demo|production
APP_MODE=demo

# Vector DB Settings
EMBEDDING_MODEL=nomic-embed-text:latest
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RETRIEVAL=5

# LLM Settings
LLM_MODEL=qwen2.5:3b-instruct
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=2000
# Optional: free-roam Atlas agent (OpenRouter, OpenAI-compatible API)
OPENROUTER_API_KEY=
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODEL=z-ai/glm-4.5-air:free
OPENROUTER_TIMEOUT_SECONDS=25
FREE_ROAM_ENABLED=true
FREE_ROAM_MAX_STEPS=6
FREE_ROAM_MEMORY_TURNS=12
# Optional: route RAG answer generation to a fine-tuned Tinker checkpoint
# TINKER_MODEL_PATH=tinker://<model_id>/sampler_weights/<checkpoint_name>

# RAG performance defaults (optimized for fast interactive answers)
RAG_MAX_CONTEXT_CHUNKS=2
RAG_CHUNK_CHAR_LIMIT=420
RAG_CONTEXT_CHAR_LIMIT=1200
RAG_GENERATION_TIMEOUT_SECONDS=2.5
RAG_ANSWER_MAX_TOKENS=100
RAG_CACHE_TTL_SECONDS=180
RAG_METRICS_WINDOW_SIZE=200

# Autonomous decision thresholds
TICKET_CONFIDENCE_THRESHOLD=0.985
TICKET_MILES_VARIANCE_THRESHOLD=0.07

# Microsoft Graph Settings (for Outlook/Teams ingestion)
MS_GRAPH_TENANT_ID=
MS_GRAPH_CLIENT_ID=
MS_GRAPH_CLIENT_SECRET=
MS_GRAPH_USER_ID=
# Optional. If empty, user drive is used.
MS_GRAPH_DRIVE_ID=

# Samsara live sync (required for /ops/integrations/samsara/sync)
SAMSARA_API_TOKEN=
# Integration adapter endpoint returning {"events":[...]} keyed by load_id
SAMSARA_EVENTS_URL=
# If using the built-in adapter endpoint on this same API service:
# SAMSARA_EVENTS_URL=http://localhost:8000/samsara-adapter/events/query
